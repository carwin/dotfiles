#+title: User Level Systemd Configurations

This file is for storing all of my Systemd configs and timers. I'll write them all in here and have Org tangle them out.

User level Systemd configurations live in =~/.config/systemd/user=.

* Emacs

Emacs ships with a systemd unit (at least in Arch), so there's really no configuration necessary. On a fresh system, simply enable the service and start it.

#+begin_src shell
systemctl --user enable --now emacs
systemctl --user start emacs
#+end_src

Now assuming everything else is setup correctly, I can simply connect to Emacs instead of starting it up fresh everytime I happen to close it.

#+begin_src
emacsclient -d
#+end_src

* OneDrive Sync

** TODO tangle this section.

First set up a service we can run as needed.

#+begin_src conf :tangle ./tangled/onedrive-sync.service
[Unit]
Description=Syncs OneDrive

[Service]
ExecStart=/usr/bin/onedrive --synchronize

fInstall]
WantedBy=default.target
#+end_src

Now set up a timer to do it hourly.

#+begin_src conf :tangle ./tangled/onedrive-sync.timer
[Unit]
Description=Run OneDrive synchronization hourly

[Timer]
OnBootSec=15min
OnUnitActiveSec=1h

[Install]
WantedBy=timers.target
#+end_src

Describe the symlink to be created for this file.

#+begin_src sh :noweb-ref symlinks
ln -sfv ~/Projects/Home/dotfiles/tangled/onedrive-sync.timer ~/.config/systemd/user/onedrive-sync.timer

ln -sfv ~/Projects/Home/dotfiles/tangled/onedrive-sync.service ~/.config/systemd/user/onedrive-sync.service

systemctl --user enable onedrive-sync.timer
#+end_src


* OfflineIMAP

** TODO
